@model MvcSDesign.Models.quotation

@{
    ViewBag.Title = "Quotation";
}

<meta name="viewport" content="width=device-width, initial-scale=1">
@*


 *@
 

<link href="~/Content/font-awesome.min.css" rel="stylesheet" />
<link href="~/Content/font-awesome.css" rel="stylesheet" />
<link href="~/css/font-awesome.min.css" rel="stylesheet" />
<link href="~/css/font-awesome.css" rel="stylesheet" />
<link href="~/Content/bootstrap.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap.js"></script>
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
 
<style type="text/css">
   
  
</style>

<script type="text/javascript">
    var cnt = 0;
    $(document).ready(function () {
        //$('input[type="checkbox"]').click(function () {
        //    if ($(this).prop("checked") == true) {
        //        cnt = cnt + 1;

        //    }
        //    else if ($(this).prop("checked") == false) {
        //        cnt = cnt - 1;
        //    }

        //    $("#lblCnt").text(cnt);
        //});


        $("#btnSubmit").click(function (event) {

            //var fname = $('#uploadFile').val();
            //var mailID = $('#emailID').val();
            //var phone = $('#phone').val();
            //var cname = $('#txtCName').val();
            //var reffile = $('fileToUpload').val();

            //var varexterior = $("#exterior")[0].checked;
            //var varinterior = $("#interior")[0].checked;
            //var varfloorplan = $("#floorplan")[0].checked;
            //var varchkStructure = $("#chkStructure")[0].checked;
            //var varplanning = $("#planning")[0].checked;
            //var varwalkthrough = $("#walkthrough")[0].checked;
            //var varin_ex = $("#interactive_exterior")[0].checked;
            //var varin_in = $("#interactive_interior")[0].checked;
            //var varbirdeyeview = $("#birdeyeview")[0].checked;


            //if (cname.length == 0) {
            //    alert("Please select client for quotation");
            //    return false;
            //}
            //else if ((varexterior == false) && (varinterior == false) && (varfloorplan == false) && (varchkStructure == false) && (varplanning == false) && (varwalkthrough == false) && (varin_ex == false) && (varin_in == false) && (varbirdeyeview == false)) {
            //    alert("Please select at least one option from project type ")
            //    return false;
            //}
            //else if (varexterior == true) {
            //    var ptype = $("input[name='ptype']:checked").val();
            //    if (ptype == undefined) {
            //        alert("Please one option from Exterior type")
            //        return false;
            //    }
            //}

            //else if (varin_ex == true) {
            //    var ptype = $("input[name='interactiveptype']:checked").val();
            //    if (ptype == undefined) {
            //        alert("Please one option from Interactive View Exterior type")
            //        return false;
            //    }
            //}


            //if (fname.length == 0) {
            //    var ch = confirm("You are uploading project without plan, do you want to continue?")
            //    if (!ch) return false;
            //}

            

            //if (fname.length != 0) {
            //    var ch = fname.indexOf(".dwg");
            //    if (ch == -1) {
            //        var ch = fname.indexOf(".DWG");
            //        if (ch == -1) {
            //            $('#uploadFile').css('background-color', '#FF0000');
            //            alert("Please select only dwg file");
            //            return false;
            //        }
            //    }
            //}

            //if (phone == undefined) {
            //    alert("Client phone is not available please update client phone ");
            //    return false;
            //}
            //else if (phone.length < 10) {
            //    alert("Client phone is not available please update client phone ");
            //    return false;
            //}


            //var arr = mailID.split(",");
            //for (var i = 0; i < arr.length ; i++) {
            //    if (!ValidateEmail(arr[i].trim())) {
            //        alert("Invalid email ID " + arr[i]);
            //        return false;
            //    }
            //}

            return true;
        });
    });

    function ValidateEmail(email) {
        var regex = /^([a-zA-Z0-9_\.\-])+\@@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        return regex.test(email);
    }

</script>


<script>
    @*var nowTemp = new Date();
    var now = new Date(nowTemp.getFullYear(), nowTemp.getMonth(), nowTemp.getDate(), 0, 0, 0, 0);
    var files;
    var storedFiles = [];
    var storedSizes = [];
    var upc = 0;
    var totalfilesize = 0, filesize =0;

    $(function () {
        $(":file").attr('title', '  ');
        var $loading = $('#loadingDiv').hide();

        $("input[id^='fileToUpload']").change(function (e) {
            doReCreate(e);
        });

        selDiv = $("#selectedFiles");
    });


    function doReCreate(e) {
        upc = upc + 1;
        handleFileSelect(e);

        $("input[id^='fileToUpload']").hide();

        $('<input>').attr({
            type: 'file',
            multiple: 'multiple',
            id: 'fileToUpload' + upc,
            class: 'fUpload',
            name: 'fileUpload',
            style: 'float: left',
            title: '  ',
            onchange: "doReCreate(event)"

        }).appendTo('#uploaders');
    }


    function handleFileSelect(e) {
        var fname = "", f;
        selDiv = document.querySelector("#selectedFiles");

        if (!e.target.files) return;
        var ch;
        filesiz = 0;
        for (var i = 0; i < storedSizes.length; i++) {
            ch = storedSizes[i];

            filesize = filesize + ch;
        }

        files = e.target.files;

        for (var i = 0; i < files.length; i++) {
            f = files[i];
            filesize = filesize+ f.size;
        }
        ch = filesize / 1024;

        if (ch > 5000) {
            alert("Reference files must be under 5 MB");
            return;
        }

        filesize = 0;
        for (var i = 0; i < files.length; i++) {
             f = files[i];
            selDiv.innerHTML += "<div>" + f.name + "<a onclick='removeAtt(this)'> X </a></div>";
            filesize = f.size;

            storedSizes.push(filesize);
            storedFiles.push(f.name);
        }

        $('#@Html.IdFor(i => i.FilesToBeUploaded)').val(storedFiles);

    }



    function removeAtt(t) {
        var serEle = $(t).parent().text().slice(0, -3);
        var index = storedFiles.indexOf(serEle);

        if (index !== -1) {
            storedFiles.splice(index, 1);
            storedSizes.splice(index, 1);
        }
        $(t).parent().remove();
        $('#@Html.IdFor(i => i.FilesToBeUploaded)').val(storedFiles);


        filesize = 0;
        for (var i = 0; i < storedSizes.length; i++) {
            f = storedSizes[i];
            filesize = filesize + f;
         }


    }

    function ValidateSize(file) {
        var FileSize = file.files[0].size / 1024 / 1024; // in MB
        if (FileSize >= 4) {
            alert("Dwg file must be under 5 MB");
            document.getElementById("uploadFile").value = "";
            return false;
         }
    }*@


</script>



<style type="text/css">
     
</style>

@using (@Html.BeginForm(Html.BeginForm("quotation", "CallLogEntry", FormMethod.Post, new { enctype = "multipart/form-data", id = "frmID" })))
{

    <div class="container">
        <div ng-app="myApp">

            <div ng-controller="myController">


                <h2 style="font-family: Arial; font-size: 22pt; margin-left: -100px;">Quotation</h2> <br /><br />
                <div class="panel-group">

                    <div class="panel panel-primary" style="margin-left: -100px; width:900px; height:430px;">
                        <div class="panel-heading" style="font-family: Arial; font-size: 12pt;">Enter name , phone no , email-ID </div>
                        <div class="panel-body" style="margin-top:-10px">
                            
                            <table style="margin-left:0px; width:850px; border:0px solid black; ">
                                <tr>
                                    <td style="width:50px; vertical-align:bottom;border:0px solid black; ">
                                        <span style="font-family:Arial; font-size:10pt;font-weight:bold;">  Name  </span>
                                    </td>
                                    <td style="width:200px;border:0px solid black; ">
                                        <input type="text" class="form-control"  ng-model="txtClientName" style="font-family:Arial; font-size:12px;height:30px; width:180px;" />
                                    </td>
                                    <td style="width:60px; vertical-align:bottom;border:0px solid black; ">
                                        <span style="font-family:Arial; font-size:10pt;font-weight:bold;">  Email ID  </span>

                                    </td>
                                    <td style="width:170px;border:0px solid black; ">
                                        <input type="text" class="form-control" ng-model="txtClientEmailID" style=" font-family:Arial; font-size:12px;height:30px; width:160px;" />
                                    </td>

                                    <td style=" vertical-align:bottom;"><span style="font-family:Arial; font-size:10pt;font-weight:bold;">  Phone no </span></td>
                                    <td style="">
                                        <input type="text" class="form-control" ng-model="txtClientPhoneno" style="font-family:Arial; font-size:12px;height:30px;width:160px; " />
                                    </td>

                                    <td>
                                        <input type="button"   value="Search" class="form-control" ng-click="RecordShow()" style="background-color:#C9E1F2; width:80px;height:30px;font-family:Museo Sans 300; font-size:10pt;" />
                                    </td>
                                </tr>
                            </table>
                            <br />
                            <div class="slider" style="width: 880px;  height:200px; margin-left:0px;  overflow: auto;  border: 3px solid #656A6F  ;background-color:white ">
                                <table class="table" style="width: 860px;">
                                    <tr style="  font-weight:bold;font-family:Arial;font-size:10pt;height: 30px; background-color:#37383A ; color:#FFFFFF ;border: solid 1px #C9E1F2;">
                                        <td style="width:100px;">UID</td>
                                        <td style="width:200px;">Name</td>
                                        <td style="width:70px;">Phone</td>
                                        <td style="width:70px;">City</td>
                                        <td style="width:80px;">Email</td>
                                        <td></td>

                                    </tr>

                                    @*<tr ng-repeat="item  in recordlist">
                                        <td style="margin-left:0px; width:100px;"> {{item.UID}}</td>
                                        <td style="margin-left:0px;width:200px;"> {{item.proprietorName}}</td>
                                        <td style="margin-left:0px;width:70px;">  {{item.phon1}}</td>
                                        <td style="margin-left:0px;width:70px;">  {{item.city}} </td>
                                        <td style="margin-left:0px;width:80px;">  {{item.phone3}} </td>

                                        <td> <input type="button" value="Select" ng-click="ShowClient(item.UID, item.proprietorName, item.phone3 , item.phon1)" class="myButtonSubmit" style="width:60px;height:25px; font-family:Museo Sans 300; font-size:8pt" />   </td>
                                    </tr>*@
                                </table>
                            </div>
                        </div>
                        <hr />
                        <table style="margin-left:20px; width:800px; border:0px solid black; ">
                            <tr>
                                <td style="width:30px; vertical-align:bottom;border:0px solid black; ">
                                    <span style="font-family:Arial; font-size:10pt;font-weight:bold;">  CID  </span>
                                </td>
                                <td style="width:80px;border:0px solid black; ">
                                    <input type="text" class="form-control" ng-model="txtUID" id="uid" name="uid" style="font-family:Arial; font-size:12px;height:30px; width:60px;background-color:#00FFFF " readonly />
                                </td>
                                <td style="width:50px; vertical-align:bottom;border:0px solid black; ">
                                    <span style="font-family:Arial; font-size:10pt;font-weight:bold;">  Name  </span>
                                </td>
                                <td style="width:200px;border:0px solid black; ">
                                    <input type="text" class="form-control" ng-model="txtCName" id="txtCName" style="font-family:Arial; font-size:12px;height:30px; width:180px;background-color:#00FFFF " readonly />
                                </td>

                                <td style="width:50px; vertical-align:bottom;border:0px solid black; ">
                                    <span style="font-family:Arial; font-size:10pt;font-weight:bold;">  Phone  </span>
                                </td>
                                <td style="width:200px;border:0px solid black; ">
                                    <input type="text" class="form-control" ng-model="txtPhone" id="phone" name="phone" ng-class="myphone" style="font-family:Arial; font-size:12px;height:30px; width:130px;" />
                                
                                </td>

                                <td style="width:50px; vertical-align:bottom;border:0px solid black; ">
                                    <span style="font-family:Arial; font-size:10pt;font-weight:bold;">  Email ID  </span>
                                </td>
                                <td style="width:200px;border:0px solid black; ">
                                    <input type="text" class="form-control" ng-model="txtEmailID" id="emailID" name="emailID" ng-class="myEmailID" style="font-family:Arial; font-size:12px;height:30px; width:150px; " />
                                    @*   <br />  <span style="font-family:Arial; font-size:8pt; font-weight:bold; ">  Use comma (,) for multiple mail IDs  </span>*@
                                </td>
                            </tr>
                            <tr>
                                <td style="width:30px; vertical-align:bottom;border:0px solid black; "></td>
                                <td style="width:80px;border:0px solid black; ">   </td>
                                <td style="width:50px; vertical-align:bottom;border:0px solid black; ">
                                <td style="width:200px;border:0px solid black; "></td>
                                <td style="width:50px; vertical-align:bottom;border:0px solid black; ">
                                <td style="width:200px;border:0px solid black; ">
                                    <span style="font-family:Arial; font-size:8pt; font-weight:bold;"> Only a cell number , without special character or white space  </span>
                                </td>
                                <td style="width:50px; vertical-align:bottom;border:0px solid black; "></td>
                                <td style="width:200px;border:0px solid black; ">
                                    <span style="font-family:Arial; font-size:8pt; font-weight:bold; ">  Use comma (,) for multiple mail IDs  </span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
         </div>
         <table class="table table-responsive table-bordered" style="background-color:#dee3ef; margin-left:-100px; width:900px;  border: 3px solid #E3E3E3;   box-shadow: 2px 2px; ">
             <tr>
                 <td style="width:100px;">

                 </td>
                 <td>
                     <span style="height:30px;font-family:Museo Sans 300 ;font-size:10pt;">  Project Type</span>
                 </td>
                 <td>
                     <select class="form-control" id="ddlProjectType" name="ddlProjectType" style="width: 300px; height: 40px; font-family: Museo Sans 300; font-size: 10pt;     ">
                         <option value="Exterior">Exterior</option>
                         <option value="Interior">Interior </option>
                         <option value="3D_Floor">3D Floor</option>
                         <option value="Structure">Structure</option>
                         <option value="Planning">Planning</option>
                         <option value="Walkthrough">Walkthrough</option>
                         <option value="Bird_Eye_View">Bird Eye View</option>
                         <option value="Interactive_View(Exterior)	">Interactive View(Exterior)</option>
                         <option value="Interactive_View(Interior)	">Interactive View(Interior)</option>

                     </select>
                 </td>
             </tr>
             <tr>
                 <td style="width:100px;"></td>

                 <td style="width:100px;">
                     <span style="height:30px;font-family:Museo Sans 300 ;font-size:10pt;">  Package</span>
                 </td>
                 <td>
                     <select class="form-control" id="ddlPackage" name="ddlPackage" style="width: 300px; height: 40px; font-family: Museo Sans 300; font-size: 10pt;     ">
                         <option value="First">First</option>
                         <option value="Second">Second </option>
                         <option value="Third">Third</option>
                         <option value="Fourth">Fourth</option>
                     </select>
                 </td>
             </tr>
             <tr>
                 <td style="width:100px;"></td>

                 <td style="width:100px;">
                     <span style="height:30px;font-family:Museo Sans 300 ;font-size:10pt;">  Plot size</span>
                 </td>
                 <td>
                     <input type="text" class="form-control"  id="txtPlotSize" name="txtPlotSize"   style="font-family:Arial; font-size:12px;height:30px; width:130px;height:40px" />
                 </td>
             </tr>
             <tr>
                 <td style="width:100px;"></td>

                 <td style="width:100px;">
                     <span style="height:30px;font-family:Museo Sans 300 ;font-size:10pt;">  Amount</span>
                 </td>
                 <td>
                     <input type="text" class="form-control" id="txtAmount" name="txtAmount" style="font-family:Arial; font-size:12px;height:30px; width:130px;height:40px" />
                 </td>
             </tr>
             <tr>
                <td style="width:100px;"></td>
                <td style="width:100px;">
                    <span style="height:30px;font-family:Museo Sans 300 ;font-size:10pt;">  Comment</span>
                </td>
                <td style="width:100px;">
                     
                    <textarea id="comment" name="comment" rows="5" cols="35" ></textarea> 
                </td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>
                    <input type="submit" value="Submit" id="btnSubmit" class="form-control"  style="font-weight:bold; width:300px;font-family:Museo Sans 300; font-size:10pt;background:#8af6f6" />
                </td>
            </tr>
        </table>
    </div>


    @*if (ViewBag.message != "")
    {
        <script type="text/javascript">
                 window.onload = function () {
                     alert("@ViewBag.message");
                 }
        </script>
    }*@
}


